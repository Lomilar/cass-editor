(function(e){function t(t){for(var r,a,s=t[0],c=t[1],l=t[2],d=0,u=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&u.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);p&&p(t);while(u.length)u.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/cass-editor/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var p=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},16:function(e,t){},17:function(e,t){},1844:function(e,t,n){},1865:function(e,t,n){"use strict";var r=n("91cc"),o=n.n(r);o.a},2:function(e,t){},"217e":function(e,t,n){"use strict";var r=n("1844"),o=n.n(r);o.a},3:function(e,t){},"3dfd":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"has-navbar-fixed-top",attrs:{id:"app"}},[n("nav",{staticClass:"navbar is-black is-fixed-top",attrs:{role:"navigation","aria-label":"main navigation"}},[n("div",{staticClass:"navbar-brand"},[n("div",{staticClass:"navbar-start"},[n("div",{staticClass:"navbar-item"},[n("router-link",{attrs:{to:"/new"}},[e._v("\n                        New\n                    ")])],1),n("div",{staticClass:"navbar-item"},[n("router-link",{attrs:{to:"/"}},[e._v("\n                        Open\n                    ")])],1),n("div",{staticClass:"navbar-item"},[n("router-link",{attrs:{to:"/import"}},[e._v("\n                        Import\n                    ")])],1),"framework"==e.$route.name?n("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[n("a",{staticClass:"navbar-link"},[e._v("\n                        Export\n                    ")]),n("div",{staticClass:"navbar-dropdown"},[n("a",{staticClass:"navbar-item",on:{click:function(t){e.exportType="asn"}}},[e._v("\n                            Achievement Standards Network (RDF+JSON)\n                        ")]),n("a",{staticClass:"navbar-item",on:{click:function(t){e.exportType="jsonld"}}},[e._v("\n                            CaSS (JSON-LD)\n                        ")]),n("a",{staticClass:"navbar-item",on:{click:function(t){e.exportType="rdfQuads"}}},[e._v("\n                            CaSS (RDF Quads)\n                        ")]),n("a",{staticClass:"navbar-item",on:{click:function(t){e.exportType="rdfJson"}}},[e._v("\n                            CaSS (RDF+JSON)\n                        ")]),n("a",{staticClass:"navbar-item",on:{click:function(t){e.exportType="rdfXml"}}},[e._v("\n                            CaSS (RDF+XML)\n                        ")]),n("a",{staticClass:"navbar-item",on:{click:function(t){e.exportType="turtle"}}},[e._v("\n                            CaSS (Turtle)\n                        ")]),n("a",{staticClass:"navbar-item",on:{click:function(t){e.exportType="ctdlasnJsonld"}}},[e._v("\n                            Credential Engine ASN (JSON-LD)\n                        ")]),n("a",{staticClass:"navbar-item",on:{click:function(t){e.exportType="ctdlasnCsv"}}},[e._v("\n                            Credential Engine ASN (CSV)\n                        ")]),n("a",{staticClass:"navbar-item",on:{click:function(t){e.exportType="csv"}}},[e._v("\n                            Table (CSV)\n                        ")]),n("a",{staticClass:"navbar-item",on:{click:function(t){e.exportType="case"}}},[e._v("\n                            IMS Global CASE (JSON)\n                        ")])])]):e._e(),n("div",{staticClass:"navbar-item"},[n("router-link",{attrs:{to:"/help"}},[e._v("\n                        Help\n                    ")])],1)]),n("a",{staticClass:"navbar-burger burger",class:{"is-active":e.navBarActive},attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"artPagesDropDown"},on:{click:function(t){e.navBarActive=!e.navBarActive}}},[n("span",{attrs:{"aria-hidden":"true"}}),n("span",{attrs:{"aria-hidden":"true"}}),n("span",{attrs:{"aria-hidden":"true"}})])]),n("div",{staticClass:"navbar-menu is-spaced",class:{"is-active":e.navBarActive},attrs:{id:"artPagesDropDown"}},[n("div",{staticClass:"navbar-end"},[n("div",{staticClass:"navbar-item has-dropdown is-hidden-desktop",class:{"is-active":e.navBarActive}},[e._v("\n                    navbar-mobile\n                ")])])])]),n("div",{staticClass:"custom-overflow"},[n("div",{staticClass:"is-multiline is-desktop is-centered"},[n("router-view",{staticClass:"is-full pagesFull",attrs:{exportType:e.exportType,queryParams:e.queryParams}})],1)])])},o=[],i={data:function(){return{navBarActive:!1,exportType:null,queryParams:null}},created:function(){this.$route.query&&(this.queryParams=this.$route.query)}},a=i,s=(n("75c4"),n("5c64"),n("2877")),c=Object(s["a"])(a,r,o,!1,null,"03cc3402",null);t["a"]=c.exports},"3e41":function(e,t,n){e.exports=n.p+"4dc323f4e9610d2aac1ca8b9eeb323e0.csv"},"3e7a":function(e,t,n){e.exports=n.p+"8fc779728526a704c648427e523dbada.csv"},4:function(e,t){},4089:function(e,t,n){},"41cb":function(e,t,n){"use strict";var r=n("2b0e"),o=n("8c4f"),i=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"about"},[n("h1",[e._v("This is an about page")])])}],s=n("2877"),c={},l=Object(s["a"])(c,i,a,!1,null,null,null),p=l.exports,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("button",{on:{click:function(t){e.hierarchy=!e.hierarchy}}},[e._v("\n        HIERARCHY CONTROL\n    ")]),n("br"),e.hierarchy?n("Hierarchy",{attrs:{container:e.frameworkActual,containerType:"Framework",containerNodeProperty:"competency",containerEdgeProperty:"relation",nodeType:"Competency",edgeType:"Relation",edgeRelationProperty:"relationType",edgeSourceProperty:"source",edgeTargetProperty:"target",edgeRelationLiteral:"narrows",repo:e.repo}}):e._e(),n("button",{on:{click:function(t){e.complex=!e.complex}}},[e._v("\n        COMPLEX CONTROL\n    ")]),n("br"),e._e(),e.complex?n("Thing",{attrs:{uri:"https://dev.cassproject.org/api/data/schema.cassproject.org.0.3.Competency/309bbf99-8671-454d-bd94-67ca180029f5/1514482922014"}}):e._e(),n("button",{on:{click:function(t){e.competency=!e.competency}}},[e._v("\n        COMPETENCY SEARCH\n    ")]),n("br"),e.competency?n("List",{attrs:{type:"Competency",profile:e.simpleProfile,repo:e.repo}}):e._e(),n("button",{on:{click:function(t){e.framework=!e.framework}}},[e._v("\n        FRAMEWORK SEARCH\n    ")]),n("br"),e.framework?n("List",{attrs:{type:"Framework",repo:e.repo}}):e._e(),n("button",{on:{click:function(t){e.person=!e.person}}},[e._v("\n        PERSON SEARCH\n    ")]),n("br"),e.person?n("List",{attrs:{type:"Person",repo:e.repo}}):e._e()],1)},u=[],h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"List"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],ref:"text",domProps:{value:e.search},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchRepo(t)},input:function(t){t.target.composing||(e.search=t.target.value)}}}),n("i",{staticClass:"fa fa-search",on:{click:e.searchRepo}}),n("ul",{staticClass:"list-ul"},e._l(e.results,(function(t){return n("li",{key:t.id,on:{click:function(n){return e.click(t)}}},[n("Thing",{attrs:{obj:t,profile:e.profile}})],1)})),0)])},m=[],f=(n("386d"),n("dbb9")),v={name:"List",props:{type:String,repo:Object,profile:Object,click:Function},components:{Thing:f["default"]},created:function(){var e=this;this.$nextTick((function(){return e.searchRepo()}))},data:function(){return{search:"",results:[]}},watch:{text:function(e,t){}},methods:{searchRepo:function(){var e=this;this.results.splice(0,this.results.length),this.repo.search("@type:"+this.type+' AND "'+this.search+'"',(function(t){e.results.push(t)}),(function(e){}),console.error)}}},g=v,y=Object(s["a"])(g,h,m,!1,null,null,null),w=y.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"e-Hierarchy"},[e.hierarchy?n("ul",{staticClass:"e-Hierarchy-ul"},[n("draggable",{attrs:{disabled:1!=e.canEdit,group:{name:"test"}},on:{start:e.beginDrag,end:e.endDrag},model:{value:e.hierarchy,callback:function(t){e.hierarchy=t},expression:"hierarchy"}},e._l(e.hierarchy,(function(t){return n("HierarchyNode",{key:t.obj.id,attrs:{obj:t.obj,dragging:e.dragging,canEdit:e.canEdit,hasChild:t.children,profile:e.profile}},[e._t("default")],2)})),1)],1):e._e()])},x=[],b=(n("ac6a"),n("55dd"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{class:"e-HierarchyNode",attrs:{id:e.obj.shortId()}},[n("Thing",{attrs:{obj:e.obj,parentNotEditable:!e.canEdit,profile:e.profile}},[e._t("default")],2),e.collapse&&e.hasChild.length>0?n("span",{staticClass:"icon",on:{click:function(t){e.collapse=!e.collapse}}},[n("i",{staticClass:"fa fa-caret-square-right"})]):e.hasChild.length>0?n("span",{staticClass:"icon",on:{click:function(t){e.collapse=!e.collapse}}},[n("i",{staticClass:"fa fa-caret-square-down"})]):e._e(),0==e.collapse?n("ul",{class:"e-HierarchyNode-ul"+(1==e.dragging?" dragging":"")},[n("draggable",{attrs:{id:e.obj.shortId(),group:{name:"test"},disabled:1!=e.canEdit},on:{start:e.beginDrag,end:e.endDrag},model:{value:e.hasChild,callback:function(t){e.hasChild=t},expression:"hasChild"}},[e._l(e.hasChild,(function(t){return n("HierarchyNode",{key:t.obj.id,attrs:{obj:t.obj,hasChild:t.children,dragging:e.dragging,canEdit:e.canEdit,profile:e.profile}},[e._t("default")],2)})),e.canEdit?n("i",{staticClass:"drag-footer fa fa-plus",attrs:{slot:"footer"},on:{click:function(t){e.add(e.obj.shortId())}},slot:"footer"}):e._e()],2)],1):e._e()],1)}),k=[],_=n("310e"),E=n.n(_),T={name:"HierarchyNode",props:{obj:Object,hasChild:Array,canEdit:Boolean,dragging:Boolean,profile:Object},components:{Thing:f["default"],draggable:E.a},data:function(){return{collapse:!1,controlOnStart:!1}},computed:{},methods:{beginDrag:function(e){void 0!==e&&(this.controlOnStart=e.originalEvent.ctrlKey||e.originalEvent.shiftKey);var t=this.$parent;while(null==t.beginDrag)t=t.$parent;t.beginDrag()},endDrag:function(e){console.log(e.oldIndex,e.newIndex);var t=null,n=0;e.from.id===e.to.id?e.newIndex+1<this.hasChild.length&&(t=this.hasChild[e.newIndex+1].obj.shortId()):void 0===e.to.children[e.newIndex]?t=e.to.id:""===e.to.id?e.newIndex<e.to.children.length&&(t=e.to.children[e.newIndex].id):e.newIndex+1<e.to.children.length&&(t=e.to.children[e.newIndex+1].id),this.move(e.clone.id,t,e.from.id,e.to.id,!this.controlOnStart,n)},move:function(e,t,n,r,o,i){var a=this.$parent;while(null==a.move)a=a.$parent;a.move(e,t,n,r,o,i)},add:function(e){var t=this.$parent;while(null==t.add)t=t.$parent;t.add(e)}}},S=T,O=Object(s["a"])(S,b,k,!1,null,null,null),P=O.exports,j={name:"Hierarchy",props:{container:Object,containerType:String,containerNodeProperty:String,containerEdgeProperty:String,nodeType:String,edgeType:String,edgeRelationProperty:String,edgeSourceProperty:String,edgeTargetProperty:String,edgeRelationLiteral:String,editable:Boolean,repo:Object,profile:Object},data:function(){return{structure:[],once:!0,dragging:!1,controlOnStart:!1}},components:{HierarchyNode:P,draggable:E.a},computed:{hierarchy:function(){var e=this;if(null==this.container)return null;if(!this.once)return this.structure;console.log("Computing hierarchy.");var t=[];return null!=this.container[this.containerNodeProperty]&&(t=t.concat(this.container[this.containerNodeProperty])),null!=this.container[this.containerEdgeProperty]&&(t=t.concat(this.container[this.containerEdgeProperty])),this.repo.multiget(t,(function(t){e.computeHierarchy()}),console.error,console.log),this.structure},canEdit:function(){return!0===this.editable&&this.container.canEditAny(EcIdentityManager.ids)}},methods:{computeHierarchy:function(){var e=this,t={},n={};if(this.structure=[],null==this.container)return t;if(null!==this.container[this.containerNodeProperty])for(var r=0;r<this.container[this.containerNodeProperty].length;r++){var o=window[this.nodeType].getBlocking(this.container[this.containerNodeProperty][r]);null!==o&&(t[this.container[this.containerNodeProperty][r]]=t[o.shortId()]=n[o.shortId()]=o)}if(null!=this.container[this.containerEdgeProperty])for(r=0;r<this.container[this.containerEdgeProperty].length;r++){var i=null;if(i=window[this.edgeType].getBlocking(this.container[this.containerEdgeProperty][r]),null!=i){if(i[this.edgeRelationProperty]===this.edgeRelationLiteral){if(null==t[i[this.edgeTargetProperty]])continue;if(null==t[i[this.edgeSourceProperty]])continue;null==t[i[this.edgeTargetProperty]]._children&&(t[i[this.edgeTargetProperty]]._children=[]),t[i[this.edgeTargetProperty]]._children.push(t[i[this.edgeSourceProperty]]),delete n[i[this.edgeSourceProperty]]}}else console.log("Hierarchy: Could not find edge: "+window[this.edgeType].getBlocking(this.container[this.containerEdgeProperty][r]))}if(null!=this.container[this.containerNodeProperty])for(r=0;r<this.container[this.containerNodeProperty].length;r++)null!=t[this.container[this.containerNodeProperty][r]]._children&&t[this.container[this.containerNodeProperty][r]]._children.sort((function(t,n){return e.container[e.containerNodeProperty].indexOf(t.shortId())-e.container[e.containerNodeProperty].indexOf(n.shortId())}));this.structure.splice(0,this.structure.length);var a=EcObject.keys(n);if(null!=this.startingSpotUri)this.structure.push(t[this.startingSpotUri]);else for(r=0;r<a.length;r++)this.structure.push(n[a[r]]);this.structure.sort((function(t,n){return e.container[e.containerNodeProperty].indexOf(t.shortId())-e.container[e.containerNodeProperty].indexOf(n.shortId())})),this.packChildren(this.structure),this.once=!1},packChildren:function(e){if(null!=e){for(var t=0;t<e.length;t++)e[t]={obj:e[t],children:void 0===e[t]._children?[]:e[t]._children},delete e[t].obj._children;for(t=0;t<e.length;t++)this.packChildren(e[t].children)}},beginDrag:function(){this.dragging=!0,void 0!==event&&(this.controlOnStart=event.originalEvent.ctrlKey||event.originalEvent.shiftKey)},endDrag:function(e){console.log(e.oldIndex,e.newIndex);var t=null,n=0;e.from.id===e.to.id?(e.newIndex<this.hierarchy.length&&(t=this.hierarchy[e.newIndex].obj.shortId()),n=1):void 0===e.to.children[e.newIndex]?t=e.to.id:e.newIndex+1<e.to.children.length&&(t=e.to.children[e.newIndex+1].id),this.move(this.hierarchy[e.oldIndex].obj.shortId(),t,e.from.id,e.to.id,!this.controlOnStart,n)},move:function(e,t,n,r,o,i){if(this.once=!0,e!==t){var a=this.container[this.containerNodeProperty].indexOf(e);console.log(a),this.container[this.containerNodeProperty].splice(a,1);var s=null;s=null==t||void 0===t?-1:this.container[this.containerNodeProperty].indexOf(t),console.log(s),i>0&&a<=s&&(s+=i),i<0&&a<s&&(s+=i),-1===s?this.container[this.containerNodeProperty].push(e):this.container[this.containerNodeProperty].splice(s,0,e)}if(n!==r){if(!0===o)for(var c=0;c<this.container[this.containerEdgeProperty].length;c++){var l=window[this.edgeType].getBlocking(this.container[this.containerEdgeProperty][c]);if(null!=l&&l[this.edgeRelationProperty]===this.edgeRelationLiteral){if(null==l[this.edgeTargetProperty])continue;if(null==l[this.edgeSourceProperty])continue;if(l[this.edgeSourceProperty]!==e)continue;console.log("Identified edge to remove: ",JSON.parse(l.toJson())),this.container[this.containerEdgeProperty].splice(c--,1)}}if(null!=r&&""!==r){l=new window[this.edgeType];null!=EcIdentityManager.ids&&EcIdentityManager.ids.length>0&&l.addOwner(EcIdentityManager.ids[0]);var p=window[this.nodeType].getBlocking(e),d=window[this.nodeType].getBlocking(r);l.assignId(this.repo.selectedServer,EcCrypto.md5(p.shortId())+"_"+this.edgeRelationLiteral+"_"+EcCrypto.md5(d.shortId())),l.source=p.shortId(),l.target=d.shortId(),l.relationType=this.edgeRelationLiteral,this.container[this.containerEdgeProperty].push(l.shortId()),console.log("Added edge: ",JSON.parse(l.toJson())),this.repo.saveTo(l,console.log,console.error)}}this.repo.saveTo(this.stripEmptyArrays(this.container),console.log,console.error),this.dragging=!1},add:function(e){this.once=!0;var t=new window[this.nodeType];t.generateId(this.repo.selectedServer),null!=EcIdentityManager.ids&&EcIdentityManager.ids.length>0&&t.addOwner(EcIdentityManager.ids[0]),this.container[this.containerNodeProperty].push(t.shortId()),console.log("Added node: ",JSON.parse(t.toJson())),this.repo.saveTo(t,console.log,console.error);var n=new window[this.edgeType];null!=EcIdentityManager.ids&&EcIdentityManager.ids.length>0&&n.addOwner(EcIdentityManager.ids[0]);var r=t,o=window[this.nodeType].getBlocking(e);n.assignId(this.repo.selectedServer,EcCrypto.md5(r.shortId())+"_"+this.edgeRelationLiteral+"_"+EcCrypto.md5(o.shortId())),n.source=r.shortId(),n.target=o.shortId(),n.relationType=this.edgeRelationLiteral,this.container[this.containerEdgeProperty].push(n.shortId()),console.log("Added edge: ",JSON.parse(n.toJson())),this.repo.saveTo(n,console.log,console.error),this.repo.saveTo(this.stripEmptyArrays(this.container),console.log,console.error)},stripEmptyArrays:function(e){if(EcArray.isArray(e)){if(0===e.length)return null;for(var t=0;t<e.length;t++)e[t]=this.stripEmptyArrays(e[t]),null==e[t]&&e.splice(t--,1)}else if(EcObject.isObject(e))for(var n in e){var r=this.stripEmptyArrays(e[n]);null==r&&delete e[n]}return e}}},I=j,N=Object(s["a"])(I,C,x,!1,null,null,null),F=N.exports,A={name:"Test",data:function(){return{repo:null,complex:!1,competency:!1,framework:!1,hierarchy:!1,person:!1,frameworkActual:null,simpleProfile:{"http://schema.org/name":{"@id":"http://schema.org/name","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.3/Competency"},{"@id":"http://schema.cassproject.org/0.3/Level"},{"@id":"http://schema.cassproject.org/0.3/RollupRule"},{"@id":"http://schema.cassproject.org/0.3/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Name of the competency."},{"@language":"en","@value":"Name of the level."},{"@language":"en","@value":"Name of the competency framework."},{"@language":"en","@value":"Name of the rollup rule."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Competency Text"}]}}}},created:function(){this.repo=new EcRepository,this.repo.selectedServer="https://dev.cassproject.org/api/";var e=this;EcRemote.getExpectingObject(window.location.href,"schema.jsonld",(function(t){jsonld.expand(t,(function(t,n){null==t?e.$store.commit("schemaFallback",n[0]["@graph"]):console.error(t)}))}),console.error),EcRemote.getExpectingObject(window.location.href,"ctdl.json",(function(t){jsonld.expand(t,(function(t,n){null==t?e.$store.commit("schemaFallback",n):console.error(t)}))}),console.error),EcRemote.getExpectingObject(window.location.href,"ctdlasn.json",(function(t){jsonld.expand(t,(function(t,n){null==t?e.$store.commit("schemaFallback",n):console.error(t)}))}),console.error),this.frameworkActual=EcFramework.getBlocking("https://dev.cassproject.org/api/data/schema.cassproject.org.0.3.Framework/d1d3f8a5-9687-4e48-92f9-3b0138be66aa")},components:{List:w,Thing:f["default"],Hierarchy:F}},L=A,D=(n("4c4a"),Object(s["a"])(L,d,u,!1,null,"4ac33674",null)),R=D.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-open"},[n("List",{attrs:{type:"Framework",repo:e.repo,click:e.frameworkClick}})],1)},J=[],M={name:"Frameworks",props:{queryParams:Object},data:function(){return{repo:window.repo}},components:{List:w},methods:{frameworkClick:function(e){this.$router.push({name:"framework",params:{frameworkId:e.id}})}}},U=M,q=(n("217e"),Object(s["a"])(U,$,J,!1,null,null,null)),H=q.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-framework"},[n("Thing",{attrs:{obj:e.framework,repo:e.repo}}),1==e.framework.competency.length?n("span",{staticClass:"info-tag"},[e._v(e._s(e.framework.competency.length)+" item")]):e.framework.competency.length>1?n("span",{staticClass:"info-tag"},[e._v(e._s(e.framework.competency.length)+" items")]):e._e(),e.timestamp?n("span",{staticClass:"info-tag",attrs:{title:new Date(e.timestamp)}},[e._v("Last modified "+e._s(e.lastModified))]):e._e(),e.framework["schema:dateCreated"]?n("span",{staticClass:"info-tag",attrs:{title:new Date(e.framework["schema:dateCreated"])}},[e._v("Created "+e._s(e.$moment(e.framework["schema:dateCreated"]).fromNow()))]):e._e(),e.framework["Approved"]?n("span",{staticClass:"info-tag",attrs:{title:e.framework["Approved"]}},[e._v("Approved")]):e._e(),e.framework["Published"]?n("span",{staticClass:"info-tag",attrs:{title:e.framework["Published"]}},[e._v("Published")]):e._e(),n("hr"),n("Hierarchy",{attrs:{container:e.framework,containerType:"Framework",containerNodeProperty:"competency",containerEdgeProperty:"relation",nodeType:"EcCompetency",edgeType:"EcAlignment",edgeRelationProperty:"relationType",edgeRelationLiteral:"narrows",edgeSourceProperty:"source",edgeTargetProperty:"target",editable:!0,repo:e.repo}},[n("span",[e._v("test")])])],1)},V=[],z=(n("a481"),n("21a6")),W=n.n(z),K=(n("f559"),{methods:{spitEvent:function(e,t,n){var r={message:e,changed:t,selectedFramework:null==this.framework?null:this.framework.shortId(),selectedCompetency:null==this.selectedCompetency?null:this.selectedCompetency.shortId(),selectedFrameworkObject:null==this.framework?null:JSON.parse(this.framework.toJson()),selectedCompetencyObject:null==this.selectedCompetency?null:JSON.parse(this.selectedCompetency.toJson()),selectedFrameworkName:null==this.framework?null:null==this.framework.getName?this.framework["dcterms:title"]:this.framework.getName(),selectedCompetencyName:null==this.selectedCompetency?null:null==this.selectedCompetency.getName?this.selectedCompetency["skos:prefLabel"]:this.selectedCompetency.getName(),visiblePage:n};this.queryParams&&"true"===this.queryParams.ceasnDataFields&&null!=this.framework&&null!=this.framework.getGuid&&(this.framework.getGuid().startsWith("ce-")?r.selectedFrameworkCtid=null==this.framework?null:this.framework.getGuid():this.framework.getGuid().matches("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$")?r.selectedFrameworkCtid=null==this.framework?null:"ce-"+this.framework.getGuid():r.selectedFrameworkCtid="ce-"+new UUID(3,"nil",this.framework.shortId()).format()),console.log(r)},setDefaultLanguage:function(){this.framework&&this.framework["ceasn:inLanguage"]?defaultLanguage=EcArray.isArray(this.framework["ceasn:inLanguage"])?this.framework["ceasn:inLanguage"][0]:this.framework["ceasn:inLanguage"]:this.framework&&this.framework["schema:inLanguage"]?defaultLanguage=EcArray.isArray(this.framework["schema:inLanguage"])?this.framework["schema:inLanguage"][0]:this.framework["schema:inLanguage"]:this.framework&&this.framework["dcterms:language"]?defaultLanguage=this.framework["dcterms:language"]:navigator.language||navigator.userLanguage?defaultLanguage=navigator.language||navigator.userLanguage:defaultLanguage="en"},get:function(e,t,n,r,o){var i=EcRemote.urlAppend(e,t);i=EcRemote.upgradeHttpToHttps(i);var a=null;if("undefined"===typeof httpStatus){if(a=new XMLHttpRequest,a.open("GET",i,EcRemote.async),null!=n)for(var s=EcObject.keys(n),c=0;c<s.length;c++)a.setRequestHeader(s[c],n[s[c]]);var l=a;a.onreadystatechange=function(){4===l.readyState&&200===l.status&&(null!=r?r(l.responseText):4===l.readyState&&null!=o&&o(l.responseText))}}null!=a&&EcRemote.async&&(a["timeout"]=EcRemote.timeout),"undefined"!==typeof httpStatus?null!=r&&r(JSON.stringify(httpGet(i))):a.send()}}}),G={name:"Framework",props:{exportType:String,queryParams:Object},mixins:[K],data:function(){return{repo:window.repo,framework:EcFramework.getBlocking(this.$route.params.frameworkId),exportLink:null,exportGuid:null}},computed:{timestamp:function(){return this.framework.getTimestamp()?this.framework.getTimestamp():this.framework["schema:dateModified"]?this.framework["schema:dateModified"]:null},lastModified:function(){return null==this.framework?"Unknown.":this.timestamp?this.$moment(this.timestamp).fromNow():void 0}},components:{Hierarchy:F,Thing:f["default"]},created:function(){0==EcRepository.shouldTryUrl(this.framework.id)?(this.exportLink=this.repo.selectedServer+"data/"+EcCrypto.md5(this.framework.id),this.exportGuid=EcCrypto.md5(this.framework.id)):(this.exportLink=this.framework.id,this.exportGuid=this.framework.getGuid())},watch:{exportType:function(){"asn"==this.exportType?this.exportAsn():"jsonld"==this.exportType?this.exportJsonld():"rdfQuads"==this.exportType?this.exportRdfQuads():"rdfJson"==this.exportType?this.exportRdfJson():"rdfXml"==this.exportType?this.exportRdfXml():"turtle"==this.exportType?this.exportTurtle():"ctdlasnJsonld"==this.exportType?this.exportCtdlasnJsonld():"ctdlasnCsv"==this.exportType?this.exportCtdlasnCsv():"csv"==this.exportType?this.exportCsv():"case"==this.exportType&&this.exportCase()}},methods:{download:function(e,t){var n=new Blob([t],{type:"text/plain;charset=utf-8"});W()(n,e)},exportAsn:function(){window.open(this.exportLink.replace("/data/","/asn/"),"_blank")},exportJsonld:function(){window.open(this.exportLink,"_blank")},exportRdfQuads:function(){var e=this.framework.getName(),t=this;this.get(this.exportLink,null,{Accept:"text/n4"},(function(n){t.download(e+".n4",n)}),(function(e){console.log(e)}))},exportRdfJson:function(){var e=this.framework.getName(),t=this;this.get(this.exportLink,null,{Accept:"application/rdf+json"},(function(n){t.download(e+".rdf.json",n)}),(function(e){console.log(e)}))},exportRdfXml:function(){var e=this.framework.getName(),t=this;this.get(this.exportLink,null,{Accept:"application/rdf+xml"},(function(n){t.download(e+".rdf.xml",n)}),(function(e){console.log(e)}))},exportTurtle:function(){var e=this.framework.getName(),t=this;this.get(this.exportLink,null,{Accept:"text/turtle"},(function(n){t.download(e+".turtle",n)}),(function(e){console.log(e)}))},exportCtdlasnJsonld:function(){window.open(this.exportLink.replace("/data/","/ceasn/"),"_blank")},exportCtdlasnCsv:function(){var e=this;EcRemote.getExpectingString(this.exportLink.replace("/data/","/ceasn/"),null,(function(t){CSVExport.exportCTDLASN(JSON.parse(t),e.framework.getName())}),(function(e){console.error}))},exportCsv:function(){CSVExport.exportFramework(this.framework.id,console.log,console.log)},exportCase:function(){window.open(this.repo.selectedServer+"ims/case/v1p0/CFDocuments/"+this.exportGuid,"_blank")}}},X=G,Q=(n("1865"),Object(s["a"])(X,B,V,!1,null,null,null)),Y=Q.exports,Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"import-page"},[n("aside",{staticClass:"menu is-info"},["file"==e.method?n("div",{staticClass:"menu-header"},[e._v("\n                Supported File Types\n            ")]):e._e(),"server"==e.method?n("div",{staticClass:"menu-header"},[e._v("\n                Supported Servers\n            ")]):e._e(),"text"==e.method?n("div",{staticClass:"menu-header"},[e._v("\n                How to format text\n            ")]):e._e(),"url"==e.method?n("div",{staticClass:"menu-header"},[e._v("\n                Supported URL Imports\n            ")]):e._e(),"file"==e.method?n("div",{staticClass:"menu-item"},[n("h1",[e._v("CaSS formatted CSV")]),e._m(0),n("a",{attrs:{href:e.csvExampleCompetenciesFile,download:"CAP Software Engineering - Competencies.csv"}},[e._v("Example - Competencies "),n("i",{staticClass:"fa fa-download"})]),n("a",{attrs:{href:e.csvExampleRelationsFile,download:"CAP Software Engineering - Relations.csv"}},[e._v("Example - Relations "),n("i",{staticClass:"fa fa-download"})]),n("a",{attrs:{href:e.csvTemplateCompetenciesFile,download:"Template - Competencies.csv"}},[e._v("Template - Competencies "),n("i",{staticClass:"fa fa-download"})]),n("a",{attrs:{href:e.csvTemplateRelationsFile,download:"Template - Relations.csv"}},[e._v("Template - Relations "),n("i",{staticClass:"fa fa-download"})])]):e._e(),"file"==e.method?n("div",{staticClass:"menu-item"},[n("h1",[e._v("CTDL-ASN formatted CSV")]),e._m(1),n("a",{staticClass:"right",attrs:{href:e.ctdlAsnCsvTemplateFile,download:"CTDL-ASN.ONET.template.csv"}},[e._v("Template "),n("i",{staticClass:"fa fa-download"})]),n("a",{attrs:{href:e.ctdlAsnCsvExampleFile,download:"CTDL-ASN.ONET.example.csv"}},[e._v("Example "),n("i",{staticClass:"fa fa-download"})])]):e._e(),"file"==e.method?n("div",{staticClass:"menu-item"},[n("h1",[e._v("Medbiquitous XML")]),e._m(2),n("a",{attrs:{href:e.medbiquitousFile,download:"educational_achievement_sample_1June2012.xml"}},[e._v("Example "),n("i",{staticClass:"fa fa-download"})])]):e._e(),"file"==e.method?n("div",{staticClass:"menu-item"},[n("h1",[e._v("Achievement Standards Network RDF+JSON")]),e._m(3),n("a",{attrs:{href:e.asnRdfJsonFile,download:"D2695955.json"}},[e._v("Example "),n("i",{staticClass:"fa fa-download"})])]):e._e(),"file"==e.method?n("div",{staticClass:"menu-item"},[n("h1",[e._v("CTDL-ASN formatted JSON-LD")]),e._m(4),n("a",{attrs:{href:e.ctdlAsnJsonldFile,download:"DQP.jsonld"}},[e._v("Example "),n("i",{staticClass:"fa fa-download"})])]):e._e(),"server"==e.method?n("div",{staticClass:"menu-item"},[n("h1",[e._v("CaSS Server")]),e._m(5),n("a",{on:{click:function(t){e.serverUrl="https://sandbox.cassproject.org/"}}},[e._v("Example: CaSS Sandbox "),n("i",{staticClass:"fa fa-link"})])]):e._e(),"server"==e.method?n("div",{staticClass:"menu-item"},[n("h1",[e._v("IMS CASE Server")]),e._m(6),n("a",{on:{click:function(t){e.serverUrl="https://opensalt.net"}}},[e._v("Example: OpenSalt.net "),n("i",{staticClass:"fa fa-link"})])]):e._e(),"url"==e.method?n("div",{staticClass:"menu-item"},[n("h1",[e._v("CTDL-ASN JSON-LD Graphs")]),e._m(7),n("a",{on:{click:function(t){e.url="https://www.onetcenter.org/ctdlasn/graph/ce-07c257d6-9119-11e8-b852-782bcb5df6ac"}}},[e._v("Example: O*NET Abilities "),n("i",{staticClass:"fa fa-link"})]),n("a",{on:{click:function(t){e.url="https://www.onetcenter.org/ctdlasn/graph/ce-07c25f74-9119-11e8-b852-782bcb5df6ac"}}},[e._v("Example: O*NET Basic Skills "),n("i",{staticClass:"fa fa-link"})]),n("a",{on:{click:function(t){e.url="https://www.onetcenter.org/ctdlasn/graph/ce-07c264d7-9119-11e8-b852-782bcb5df6ac"}}},[e._v("Example: O*NET Cross-Functional Skills "),n("i",{staticClass:"fa fa-link"})]),n("a",{on:{click:function(t){e.url="https://www.onetcenter.org/ctdlasn/graph/ce-07c27a0f-9119-11e8-b852-782bcb5df6ac"}}},[e._v("Example: O*NET Knowledge "),n("i",{staticClass:"fa fa-link"})]),n("a",{on:{click:function(t){e.url="https://www.onetcenter.org/ctdlasn/graph/ce-9fab4187-d8e7-11e9-8250-782bcb5df6ac"}}},[e._v("Example: O*NET Technology Skills "),n("i",{staticClass:"fa fa-link"})])]):e._e(),"text"==e.method?n("div",{staticClass:"menu-item"},[e._m(8),n("a",{on:{click:function(t){e.text="First Level\n Second Level\n     Third Level\n Second Level"}}},[e._v("Example "),n("i",{staticClass:"fa fa-quote-right"})])]):e._e()]),n("div",{staticClass:"main"},[n("div",{staticClass:"task-controls section"},[n("div",{staticClass:"tabs is-small is-boxed"},[n("ul",[n("li",{class:{"is-active":"file"===e.method}},[n("a",{on:{click:function(t){e.method="file",e.framework=null,e.status=""}}},[e._m(9),n("span",[e._v("File Import")])])]),n("li",{class:{"is-active":"server"===e.method}},[n("a",{on:{click:function(t){e.method="server",e.framework=null,e.status=""}}},[e._m(10),n("span",[e._v("Remote Server")])])]),n("li",{class:{"is-active":"text"===e.method}},[n("a",{on:{click:function(t){e.method="text",e.framework=null,e.status=""}}},[e._m(11),n("span",[e._v("Paste Text")])])]),n("li",{class:{"is-active":"url"===e.method}},[n("a",{on:{click:function(t){e.method="url",e.framework=null,e.status=""}}},[e._m(12),n("span",[e._v("URL")])])])])])]),"file"==e.method?n("div",{staticClass:"section-import section-file"},[n("center",[n("h1",[e._v("Drop file or click to select.")])]),n("input",{ref:"fileInput",attrs:{type:"file",multiple:""},on:{change:e.fileChange}}),"csv"==e.importType?n("div",[n("div",[n("label",[e._v("Step 1: Name the framework.")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.importFrameworkName,expression:"importFrameworkName"}],domProps:{value:e.importFrameworkName},on:{input:function(t){t.target.composing||(e.importFrameworkName=t.target.value)}}})]),n("div",[n("label",[e._v("Step 2: Describe the framework (optional).")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.importFrameworkDescription,expression:"importFrameworkDescription"}],domProps:{value:e.importFrameworkDescription},on:{input:function(t){t.target.composing||(e.importFrameworkDescription=t.target.value)}}})]),n("div",[n("label",[e._v("Step 3: Select the Name column.")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.importCsvColumnName,expression:"importCsvColumnName"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.importCsvColumnName=t.target.multiple?n:n[0]}}},e._l(e.csvColumns,(function(t,r){return n("option",{key:r,domProps:{value:t}},[e._v("\n                                "+e._s(t.name)+"\n                            ")])})),0)]),n("div",[n("label",[e._v("Step 4: Select the Description column (optional).")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.importCsvColumnDescription,expression:"importCsvColumnDescription"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.importCsvColumnDescription=t.target.multiple?n:n[0]}}},[n("option",[e._v("N/A")]),e._l(e.csvColumns,(function(t,r){return n("option",{key:r,domProps:{value:t}},[e._v("\n                                "+e._s(t.name)+"\n                            ")])}))],2)]),n("div",[n("label",[e._v("Step 5: Select the Scope column (optional).")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.importCsvColumnScope,expression:"importCsvColumnScope"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.importCsvColumnScope=t.target.multiple?n:n[0]}}},[n("option",[e._v("N/A")]),e._l(e.csvColumns,(function(t,r){return n("option",{key:r,domProps:{value:t}},[e._v("\n                                "+e._s(t.name)+"\n                            ")])}))],2)]),n("div",[n("label",[e._v("Step 6: Select the ID column (optional). If chosen, this should be a URL from another CaSS system or a non-numeric ID.")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.importCsvColumnId,expression:"importCsvColumnId"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.importCsvColumnId=t.target.multiple?n:n[0]}}},[n("option",[e._v("N/A")]),e._l(e.csvColumns,(function(t,r){return n("option",{key:r,domProps:{value:t}},[e._v("\n                                "+e._s(t.name)+"\n                            ")])}))],2)]),n("div",[n("label",[e._v('Step 7: Select a relation file (optional).\n                            The relation source/target must be in the form of ID or Name, and the relation types should be "requires", "desires", "narrows", "isEnabledBy", "isRelatedTo", or "isEquivalentTo".')]),n("input",{attrs:{type:"file"},on:{change:e.analyzeCsvRelation}})]),e.csvRelationFile?n("div",[n("div",[n("label",[e._v("Step 8: Select the Source column.")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.importCsvColumnSource,expression:"importCsvColumnSource"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.importCsvColumnSource=t.target.multiple?n:n[0]}}},e._l(e.csvRelationColumns,(function(t,r){return n("option",{key:r,domProps:{value:t}},[e._v("\n                                    "+e._s(t.name)+"\n                                ")])})),0)]),n("div",[n("label",[e._v("Step 9: Select the Relation Type column.")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.importCsvColumnRelationType,expression:"importCsvColumnRelationType"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.importCsvColumnRelationType=t.target.multiple?n:n[0]}}},e._l(e.csvRelationColumns,(function(t,r){return n("option",{key:r,domProps:{value:t}},[e._v("\n                                    "+e._s(t.name)+"\n                                ")])})),0)]),n("div",[n("label",[e._v("Step 10: Select the Target column.")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.importCsvColumnTarget,expression:"importCsvColumnTarget"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.importCsvColumnTarget=t.target.multiple?n:n[0]}}},e._l(e.csvRelationColumns,(function(t,r){return n("option",{key:r,domProps:{value:t}},[e._v("\n                                    "+e._s(t.name)+"\n                                ")])})),0)])]):e._e()]):"medbiq"==e.importType?n("div",[n("div",[n("label",[e._v("Step 1: Name the framework.")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.importFrameworkName,expression:"importFrameworkName"}],domProps:{value:e.importFrameworkName},on:{input:function(t){t.target.composing||(e.importFrameworkName=t.target.value)}}})]),n("div",[n("label",[e._v("Step 2: Describe the framework (optional).")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.importFrameworkDescription,expression:"importFrameworkDescription"}],domProps:{value:e.importFrameworkDescription},on:{input:function(t){t.target.composing||(e.importFrameworkDescription=t.target.value)}}})])]):e._e(),n("button",{on:{click:e.importFromFile}},[e._v("\n                    Import\n                ")]),n("center",[n("div",[e._v("\n                        "+e._s(e.status)+"\n                    ")])])],1):e._e(),"server"==e.method?n("div",{staticClass:"section-import section-server"},[n("center",[n("h1",[e._v("Paste URL endpoint of server")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.serverUrl,expression:"serverUrl"}],attrs:{type:"url"},domProps:{value:e.serverUrl},on:{input:function(t){t.target.composing||(e.serverUrl=t.target.value)}}}),n("button",{on:{click:e.connectToServer}},[e._v("\n                        Connect\n                    ")]),n("div",[e._v("\n                        "+e._s(e.status)+"\n                    ")])]),e.caseDocs.length?n("div",[n("ul",e._l(e.caseDocs,(function(t){return n("li",{key:t.id},[t.loading||t.success||t.error?e._e():n("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"doc.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{change:function(n){var r=t.checked,o=n.target,i=!!o.checked;if(Array.isArray(r)){var a=null,s=e._i(r,a);o.checked?s<0&&e.$set(t,"checked",r.concat([a])):s>-1&&e.$set(t,"checked",r.slice(0,s).concat(r.slice(s+1)))}else e.$set(t,"checked",i)}}}),t.loading?n("i",{staticClass:"fa fa-circle-notch fa-spin"}):t.success?n("i",{staticClass:"fa fa-check"}):t.error?n("i",{staticClass:"fa fa-exclamation-triangle"}):e._e(),e._v("\n                            "+e._s(t.name)+"\n                        ")])})),0),n("button",{on:{click:e.importCase}},[e._v("\n                        Import\n                    ")]),n("button",{on:{click:e.cancelCase}},[e._v("\n                        Cancel\n                    ")])]):e._e()],1):e._e(),"text"==e.method?n("div",{staticClass:"section-import section-text"},[n("center",[n("h1",[e._v("Paste Text")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],domProps:{value:e.text},on:{input:function(t){t.target.composing||(e.text=t.target.value)}}}),n("div",[e._v("\n                        "+e._s(e.status)+"\n                        "),n("button",{on:{click:e.parseText}},[e._v("\n                            Import\n                        ")])])])],1):e._e(),"url"==e.method?n("div",{staticClass:"section-import section-url"},[n("center",[n("h1",[e._v("Paste URL of document")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],attrs:{type:"url"},domProps:{value:e.url},on:{input:function(t){t.target.composing||(e.url=t.target.value)}}}),n("button",{on:{click:e.importFromUrl}},[e._v("\n                        Import\n                    ")]),n("div",[e._v("\n                        "+e._s(e.status)+"\n                    ")])])],1):e._e(),e.framework?n("Hierarchy",{attrs:{container:e.framework,containerType:"Framework",containerNodeProperty:"competency",containerEdgeProperty:"relation",nodeType:"EcCompetency",edgeType:"EcAlignment",edgeRelationProperty:"relationType",edgeRelationLiteral:"narrows",edgeSourceProperty:"source",edgeTargetProperty:"target",editable:"false",repo:e.repo}}):e._e()],1)])},ee=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h2",[e._v("\n                    For this import, you can use one or two CSVs.\n                    The first (required) CSV describes the competencies to include in a new framework.\n                    The second (optional) CSV describes the relations between the competencies found in the first framework.\n                    "),n("br"),e._v("\n                    Each row in the first CSV will represent one competency,\n                    and each row in the second CSV will represent one relation between two competencies.\n                    The relations can be between competencies found in the first CSV,\n                    competencies found in other frameworks, or a mixture of the two.\n                    "),n("br"),e._v("\n                    You can select the columns to use to describe the id, name, description, and other fields.\n                ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h2",[e._v("\n                    For this import, you use one CSV.\n                    Each row in the CSV will represent one object, whether that be a competency, or a competency framework.\n                    Particular fields will be used to determine hierarchy.\n                    "),n("br"),e._v("\n                    Using this format, you can import several frameworks, each with their own competencies.\n                    Competencies may not be shared across frameworks, and each competency may only have one parent.\n                    "),n("br"),e._v("\n                    It is also important that the rows be sequenced correctly,\n                    with competency frameworks appearing before the competencies inside of them,\n                    and for a parent to be in a row above a child of that parent.\n                    "),n("br"),e._v("\n                    Any field with multiple values must be formatted as entry 1|entry 2.\n                ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h2",[e._v("\n                    Medbiquitous is a standards body that includes medical competencies as one of their XML based formats.\n                    "),n("br"),e._v("\n                    Using this format, you can import competencies exported from a system that exports Medbiquitous formatted XML.\n                ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h2",[e._v("\n                    The Achievement Standards Network set of standards, or ASN standard for short,\n                    is a legacy standard used primarily by achievementstandards.org to transmit\n                    state standards and other national and organizational standards.\n                    "),n("br"),e._v("\n                    Using this format,\n                    you can import competencies exported from achievementstandards.org and other systems in an RDF JSON format.\n                ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h2",[e._v("\n                    For this import, you use one JSON-LD file that includes a graph of the framework and all of its competencies.\n                    "),n("br"),e._v("\n                    Using this format, you can import a framework and competencies from a system that exports CTDL-ASN formatted JSON-LD.\n                ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h2",[e._v("\n                    If you know the URL of a CaSS Repository,\n                    you can import frameworks from that repository.\n                    "),n("br"),e._v("\n                    This import maintains the URLs of the Competency Frameworks and does not change any of the data.\n                    "),n("br"),e._v("\n                    After entering the endpoint below, you can select which frameworks you would like to import.\n                ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h2",[e._v("\n                    If you know the URL of a IMS CASE Repository, such as OpenSalt,\n                    you can import published frameworks from that repository.\n                    "),n("br"),e._v("\n                    This import maintains the URLs of the CASE frameworks and changes both the format\n                    and schema used to store the CASE frameworks in CaSS, but does not change any of the data.\n                    "),n("br"),e._v("\n                    After entering the endpoint below, you can select which frameworks you would like to import.\n                ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h2",[e._v("\n                    If you know the URL of a CTDL-ASN JSON-LD graph, you can import published frameworks by URL.\n                    "),n("br"),e._v("\n                    This import maintains the URLs of the original frameworks and changes both the format and\n                    schema used to store the CTDL-ASN frameworks in CaSS, but does not change any of the data.\n                    Please note that the Technology Skills framework below is very large and will take a long time to import.\n                ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h2",[e._v("\n                    To enter a framework using text: Copy and paste or start writing in the box here. Use spaces to indicate indenture.\n                    "),n("br"),e._v("\n                    eg:\n                    "),n("pre",[e._v("First Level\n Second Level\n     Third Level\n Second Level\n                    ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-file",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fa fa-server",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-paste",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-link",attrs:{"aria-hidden":"true"}})])}],te=(n("7f7f"),n("aef6"),n("a53e")),ne=n.n(te),re=n("e817"),oe=n.n(re),ie=n("6dfa"),ae=n.n(ie),se=n("3e7a"),ce=n.n(se),le=n("df03"),pe=n.n(le),de=n("bf34"),ue=n.n(de),he=n("3e41"),me=n.n(he),fe=n("efb1"),ve=n.n(fe),ge=n("7f6e"),ye=n.n(ge),we=n("83a4"),Ce=n.n(we),xe=n("9e94"),be=n.n(xe),ke=n("a8ea"),_e=n.n(ke),Ee={name:"Import",props:{queryParams:Object},mixins:[K],components:{Hierarchy:F},data:function(){return{method:"file",file:null,serverUrl:null,text:"",framework:null,url:null,repo:window.repo,status:"Ready.",ctdlAsnCsvExampleFile:ne.a,ctdlAsnCsvTemplateFile:oe.a,csvExampleCompetenciesFile:ae.a,csvExampleRelationsFile:ce.a,csvTemplateCompetenciesFile:pe.a,csvTemplateRelationsFile:ue.a,csvConceptExampleFile:me.a,csvConceptTemplateFile:ve.a,ctdlAsnJsonldConceptsFile:ye.a,ctdlAsnJsonldFile:Ce.a,asnRdfJsonFile:be.a,medbiquitousFile:_e.a,competencyCount:0,importType:null,importFrameworkName:null,importFrameworkDescription:null,importCsvColumnName:null,importCsvColumnDescription:"N/A",importCsvColumnScope:"N/A",importCsvColumnId:"N/A",importCsvColumnSource:null,importCsvColumnRelationType:null,importCsvColumnTarget:null,csvColumns:[],csvRelationFile:null,csvRelationColumns:[],relationCount:0,caseDocs:[],caseCancel:!1}},watch:{text:function(e,t){var n=this;TabStructuredImport.importCompetencies(e,this.repo.selectedServer,EcIdentityManager.ids[0],(function(e,t){n.status=e.length+" competencies and "+t.length+" relations.";var r=new EcFramework;n.framework=null;for(var o=0;o<e.length;o++)EcRepository.cache[e[o].shortId()]=e[o],r.addCompetency(e[o].shortId());for(o=0;o<t.length;o++)EcRepository.cache[t[o].shortId()]=t[o],r.addRelation(t[o].shortId());n.$nextTick((function(){n.framework=r}))}),(function(e){n.status=e}),console.error,this.repo,!0)}},methods:{fileChange:function(e){var t=e.target.files||e.dataTransfer.files;if(t.length){this.file=[];for(var n=0;n<t.length;n++)this.file[n]=t[n];this.analyzeImportFile()}else this.file=null;this.importType=null,this.firstImport=!0},analyzeImportFile:function(){var e=this,t=this.file[0];t.name.endsWith(".csv")?CTDLASNCSVImport.analyzeFile(t,(function(t,n){e.importType="ctdlasncsv",e.status="Import "+t+" frameworks and "+n+" competencies."}),(function(n){CSVImport.analyzeFile(t,(function(n){e.importType="csv",e.importFrameworkName=t.name.replace(".csv","");for(var r=0;r<n[0].length;r++){var o={};o.name=n[0][r],o.index=r,e.csvColumns.push(o),-1!==o.name.toLowerCase().indexOf("name")&&(e.importCsvColumnName=o),-1!==o.name.toLowerCase().indexOf("description")&&(e.importCsvColumnDescription=o),-1!==o.name.toLowerCase().indexOf("scope")&&(e.importCsvColumnScope=o),-1!==o.name.toLowerCase().indexOf("id")&&(e.importCsvColumnId=o)}e.status=(e.competencyCount=n.length-1)+" Competencies Detected."}),(function(t){e.status=t}))})):t.name.endsWith(".json")||t.name.endsWith(".jsonld")?this.analyzeJsonLdFramework(t,(function(t,n){var r=!1;"ctdlasnConcept"===n?(e.status="Concept Schemes must be imported in the concept scheme editor.",r=!0):(e.importType="ctdlasnjsonld",e.status="1 Framework and "+(EcObject.keys(t).length-1)+" Competencies Detected."),e.competencyCount=EcObject.keys(t).length,(r||"ctdlasn"!==n&&"ctdlasnConcept"!==n)&&(r||(e.status="Context is not CTDL-ASN"))}),(function(n){ASNImport.analyzeFile(t,(function(t){e.importType="asn",e.status="1 Framework and "+EcObject.keys(t).length+" Competencies Detected.",e.competencyCount=EcObject.keys(t).length}),(function(t){e.status=t}))})):t.name.endsWith(".xml")?MedbiqImport.analyzeFile(t,(function(n){e.importType="medbiq",e.importFrameworkName=t.name.replace(".xml",""),e.status="1 Framework and "+EcObject.keys(n).length+" Competencies Detected.",e.competencyCount=EcObject.keys(n).length}),(function(t){e.status=t})):t.name.endsWith(".pdf")?(e.importType="pdf",e.status="File selected."):t.name.endsWith(".docx")&&(e.importType="pdf",e.status="File selected."),e.firstImport||e.importFromFile()},analyzeCsvRelation:function(e){var t=e.target.files||e.dataTransfer.files;t.length?this.csvRelationFile=t[0]:this.csvRelationFile=null;var n=this;CSVImport.analyzeFile(this.csvRelationFile,(function(e){for(var t=0;t<e[0].length;t++){var r={};r.name=e[0][t],r.index=t,n.csvRelationColumns.push(r),-1!==r.name.toLowerCase().indexOf("source")&&(n.importCsvColumnSource=r),-1!==r.name.toLowerCase().indexOf("origin")&&(n.importCsvColumnSource=r),-1!==r.name.toLowerCase().indexOf("type")&&(n.importCsvColumnRelationType=r),-1!==r.name.toLowerCase().indexOf("target")&&(n.importCsvColumnTarget=r),-1!==r.name.toLowerCase().indexOf("destination")&&(n.importCsvColumnTarget=r)}n.relationCount=e.length-1}),(function(e){n.status=e}))},analyzeJsonLdFramework:function(e,t,n){if(null!=e)if(null!=e["name"]){var r=new FileReader;r.onload=function(e){var r=e["target"]["result"],o=JSON.parse(r);o["@graph"]?"http://credreg.net/ctdlasn/schema/context/json"===o["@context"]||"http://credreg.net/ctdl/schema/context/json"===o["@context"]||"https://credreg.net/ctdlasn/schema/context/json"===o["@context"]||"https://credreg.net/ctdl/schema/context/json"===o["@context"]?-1!==o["@graph"][0]["@type"].indexOf("Concept")?t(o["@graph"],"ctdlasnConcept"):t(o["@graph"],"ctdlasn"):t(o["@graph"],null):n("Invalid file")},r.readAsText(e,"UTF-8")}else n("Invalid file");else n("No file to analyze")},importMedbiq:function(){var e=EcIdentityManager.ids[0],t=new EcFramework;null!=e&&t.addOwner(e.ppk.toPk()),null!=this.queryParams.newObjectEndpoint?t.generateShortId(null==this.queryParams.newObjectEndpoint?this.repo.selectedServer:this.queryParams.newObjectEndpoint):t.generateId(null==this.queryParams.newObjectEndpoint?this.repo.selectedServer:this.queryParams.newObjectEndpoint),t["schema:dateCreated"]=(new Date).toISOString(),t.setName(this.importFrameworkName),t.setDescription(this.importFrameworkDescription);var n=this;MedbiqImport.importCompetencies(null==this.queryParams.newObjectEndpoint?this.repo.selectedServer:this.queryParams.newObjectEndpoint,e,(function(e){for(var r=0;r<e.length;r++)t.addCompetency(e[r].shortId());n.repo.saveTo(t,(function(e){n.file.splice(0,1),n.file.length>0?(n.firstImport=!1,n.analyzeImportFile()):(n.framework=t,n.spitEvent("importFinished",t.shortId(),"importPage"))}),(function(e){n.status=e}))}),(function(e){n.status=e}),(function(e){n.status=e.competencies+"/"+n.competencyCount+" competencies imported."}),n.repo)},importAsn:function(){var e=EcIdentityManager.ids[0],t=this;ASNImport.importCompetencies(this.repo.selectedServer,e,!0,(function(e,n){t.file.splice(0,1),t.file.length>0?(t.firstImport=!1,t.analyzeImportFile()):(t.framework=n,t.spitEvent("importFinished",n.shortId(),"importPage"))}),(function(e){t.status=e}),(function(e){t.status=e.competencies+"/"+t.competencyCount+" competencies imported."}),t.repo)},importCtdlAsnCsv:function(){var e=null;EcIdentityManager.ids.length>0&&(e=EcIdentityManager.ids[0]);var t=this;CTDLASNCSVImport.importFrameworksAndCompetencies(t.repo,t.file[0],(function(e,n,r){if(!0===t.queryParams.ceasnDataFields)for(var o=0;o<e.length;o++)null==e[o]["schema:inLanguage"]||e[o]["schema:inLanguage"];var i=e.concat(n).concat(r);t.status="Saving "+i.length+" objects.",t.repo.multiput(i,(function(){for(var n=0;n<e.length;n++)t.framework=e[n],t.status="Import Finished.",t.spitEvent("importFinished",e[n].shortId(),"importPage");t.file.splice(0,1),t.file.length>0&&(t.firstImport=!1,t.analyzeImportFile())}),(function(e){t.status=e}))}),(function(e){t.status=e}),e)},importPdf:function(){var e=this,t=new FormData;t.append(e.file[0].name,e.file[0]),EcRemote.postExpectingObject("http://ec2-52-10-142-111.us-west-2.compute.amazonaws.com:8080/tp3Demo2/api/custom/","t3demo",t,(function(t){var n=[],r=new EcFramework;r.setName(t.name),r.setDescription(t.description),r.assignId(e.repo.selectedServer,e.file.name),r.competency=[],r.relation=[],n.push(r),console.log(t),console.log(JSON.parse(r.toJson()));for(var o={},i=0;i<t.competencies.length;i++){var a=new EcCompetency;a.assignId(e.repo.selectedServer,t.competencies[i].id),o[t.competencies[i].id]=a.shortId(),null!=t.competencies[i].name&&a.setName(t.competencies[i].name.trim()),t.competencies[i].name!==t.competencies[i].description&&a.setDescription(t.competencies[i].description.trim()),r.competency.push(a.shortId()),n.push(a)}for(i=0;i<t.relation.length;i++){a=new EcAlignment;a.assignId(e.repo.selectedServer,t.relation[i].source+"_"+t.relation[i].relationType+"_"+t.relation[i].target),a.source=o[t.relation[i].source],a.target=o[t.relation[i].target],a.relationType=t.relation[i].relationType,void 0!==a.source&&void 0!==a.target?(r.relation.push(a.shortId()),n.push(a)):console.log(JSON.parse(a.toJson()))}e.repo.multiput(n,(function(){e.framework=r,e.status=""}),console.error),e.status="Writing Framework to CaSS."}),console.error),e.status="Importing Framework..."},importCsv:function(){var e=this.file[0],t=this.csvRelationFile,n=EcIdentityManager.ids[0],r=null==this.queryParams.newObjectEndpoint?this.repo.selectedServer:this.queryParams.newObjectEndpoint,o=new EcFramework;null!=n&&o.addOwner(n.ppk.toPk()),null!==this.queryParams.newObjectEndpoint?o.generateShortId(r):o.generateId(r),o["schema:dateCreated"]=(new Date).toISOString(),o.setName(this.importFrameworkName),o.setDescription(this.importFrameworkDescription);var i=this;CSVImport.importCompetencies(e,r,n,this.importCsvColumnName.index,this.importCsvColumnDescription.index,this.importCsvColumnScope.index,this.importCsvColumnId.index,t,this.importCsvColumnSource.index,this.importCsvColumnRelationType.index,this.importCsvColumnTarget.index,(function(e,t){o.competency=[],o.relation=[];for(var n=0;n<e.length;n++)o.competency.push(e[n].shortId());for(n=0;n<t.length;n++)o.relation.push(t[n].shortId());repo.saveTo(o,(function(e){i.file.splice(0,1),i.file.length>0?(i.firstImport=!1,i.analyzeImportFile()):(i.framework=o,i.status="Import Finished.",i.spitEvent("importFinished",o.shortId(),"importPage"))}),(function(e){i.status=e}))}),(function(e){i.status=e}),(function(e){null!=e.relations&&void 0!==e.relations?i.status=e.relations+"/"+i.relationCount+" relations imported.":null!=e.competencies&&void 0!==e.competencies?i.status=e.competencies+"/"+i.competencyCount+" competencies imported.":i.status="Importing..."}),!1,i.repo)},importJsonLd:function(e){var t=new FormData;if(null!=e&&void 0!==e)t.append("data",JSON.stringify(e));else{var n=this.file[0];t.append("file",n)}var r=EcIdentityManager.ids[0];null!=r&&t.append("owner",r.ppk.toPk().toPem());var o=this;o.framework=null,EcRemote.postInner(this.repo.selectedServer,"ctdlasn",t,null,(function(e){if(-1!==e.indexOf("ctdlasn")){var t=e.substring(0,e.indexOf("ctdlasn")),n=e.substring(e.indexOf("ctdlasn")+7);e=t+"data"+n}o.framework=EcFramework.getBlocking(e),null==o.framework&&(o.framework=EcConceptScheme.getBlocking(e)),o.status="Import Finished.",o.spitEvent("importFinished",o.framework.shortId(),"importPage"),null!=o.file&&o.file.splice(0,1),o.file.length>0&&(o.firstImport=!1,o.analyzeImportFile())}),(function(e){o.status="Import failed. Check your import file for any errors.",console.log(e.statusText)})),o.status="Importing Framework"},importFromFile:function(){"csv"===this.importType?this.importCsv():"ctdlasncsv"===this.importType?this.importCtdlAsnCsv():"ctdlasnjsonld"===this.importType?this.importJsonLd():"asn"===this.importType?this.importAsn():"pdf"===this.importType?this.importPdf():"medbiq"===this.importType&&this.importMedbiq()},connectToServer:function(){this.caseDocs.splice(0,this.caseDocs.length),this.caseDetectEndpoint()},caseDetectEndpoint:function(){var e=this;this.serverUrl.endsWith("/")||(this.serverUrl+="/"),this.get(this.serverUrl,"ims/case/v1p0/CFDocuments",{Accept:"application/json"},(function(t){e.caseGetDocsSuccess(t)}),(function(t){e.caseGetServerSide()}))},caseGetDocsSuccess:function(e){if(e=JSON.parse(e),null==e.CFDocuments)this.status="No frameworks found. Please check the URL and try again.";else{this.status=e.CFDocuments.length+" frameworks detected.";for(var t=0;t<e.CFDocuments.length;t++){var n=e.CFDocuments[t],r={};r.name=n.title,r.id=n.uri,r.identifier=n.identifier,r.loading=!1,r.success=!1,r.error=!1,r.checked=!1,this.caseDocs.push(r)}this.caseCancel=!1}},caseGetServerSide:function(){var e=this;EcRemote.getExpectingString(this.repo.selectedServer,"ims/case/getDocs?url="+this.serverUrl,(function(t){e.caseGetDocsSuccess(t)}),(function(t){e.status="No frameworks found. Please check the URL and try again."}))},importCase:function(){for(var e=this.caseDocs.length-1;e>=0;e--)this.caseDocs[e].checked?!1===this.caseDocs[e].success&&!1===this.caseDocs[e].error&&(this.caseDocs[e].loading=!0):this.caseDocs.splice(e,1);if(!this.caseCancel){var t=0,n=null;for(e=0;e<this.caseDocs.length;e++)!0===this.caseDocs[e].loading&&(t++,null==n&&(n=e));if(0===t)this.status="Import finished.";else{var r=this,o=this.caseDocs[n].id,i=this.caseDocs[n].identifier,a=EcIdentityManager.ids[0],s=new FormData;null!=a&&s.append("owner",a.ppk.toPk().toPem()),EcRemote.postInner(this.repo.selectedServer,"ims/case/harvest?caseEndpoint="+this.serverUrl+"&dId="+i,s,null,(function(e){r.caseDocs[n].loading=!1,r.caseDocs[n].success=!0,EcFramework.get(o,(function(e){r.framework=e,r.spitEvent("importFinished",e.shortId(),"importPage")}),console.error),r.importCase()}),(function(e){r.caseDocs[n].loading=!1,r.caseDocs[n].error=!0,r.importCase()}))}}},cancelCase:function(){this.caseCancel=!0;for(var e=null,t=0;t<this.caseDocs.length;t++)!0===this.caseDocs[t].loading&&(null==e?e=t:(this.caseDocs[t].loading=!1,this.caseDocs[t].error=!0));this.status="Import Canceled."},parseText:function(){},importFromUrl:function(){var e=this;EcRemote.getExpectingString(this.url,null,(function(t){t=JSON.parse(t);var n=t["@graph"];null!=n?(e.importJsonLd(t),-1!==n[0]["@type"].indexOf("Concept")&&(e.status="Competency Editor cannot be used to import concept schemes.")):e.status="URL must have an '@graph' field at the top level."}),(function(t){e.status=t||"Import Error"}))}}},Te=Ee,Se=(n("6bed"),Object(s["a"])(Te,Z,ee,!1,null,null,null)),Oe=Se.exports;r["a"].use(o["a"]);t["a"]=new o["a"]({mode:"history",base:"/cass-editor/",routes:[{path:"/",name:"frameworks",component:H},{path:"/about",name:"about",component:p},{path:"/framework",name:"framework",component:Y},{path:"/import",name:"import",component:Oe},{path:"/test",name:"test",component:R}]})},"4c4a":function(e,t,n){"use strict";var r=n("4089"),o=n.n(r);o.a},5:function(e,t){},"55bd":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t),function(e){n("cadf"),n("551c"),n("f751"),n("097d");var t=n("2b0e"),r=n("3dfd"),o=(n("92c6"),n("41cb")),i=n("e507");n("ccf5"),t["a"].use(n("2ead")),EcRepository.caching=!0,window.repo=new EcRepository,window.repo.selectedServer="https://dev.cassproject.org/api/",e.jsonld=n("46bd"),t["a"].config.productionTip=!1,t["a"].config.warnHandler=function(e,t,n){'Invalid prop: type check failed for prop "clickToLoad". Expected Boolean, got String with value "true".'!==e&&"Avoid using non-primitive value as key, use string/number value instead."!==e&&"Duplicate keys detected: '[object Object]'. This may cause an update error."!==e&&console.error("[Vue warn]: "+e+n)},new t["a"]({router:o["a"],store:i["a"],render:function(e){return e(r["a"])}}).$mount("#app")}.call(this,n("c8ba"))},"57d0":function(e,t,n){},"5c64":function(e,t,n){"use strict";var r=n("6ee5"),o=n.n(r);o.a},6:function(e,t){},"6bed":function(e,t,n){"use strict";var r=n("57d0"),o=n.n(r);o.a},"6dfa":function(e,t,n){e.exports=n.p+"a232f980bd2b7d234ddeef70c820323c.csv"},"6ee5":function(e,t,n){},7:function(e,t){},"75c4":function(e,t,n){"use strict";var r=n("55bd"),o=n.n(r);o.a},"7f6e":function(e,t,n){e.exports=n.p+"1e2ae045c7fcb4f9a9f569aad61c0b84.jsonld"},8:function(e,t){},"83a4":function(e,t,n){e.exports=n.p+"4f99388a45a48dda58f2d48209cb458c.jsonld"},9:function(e,t){},"91cc":function(e,t,n){},"9e94":function(e,t,n){e.exports=n.p+"ccc3d217e39403dcd1f7d9aa5069c2ee.bin"},a53e:function(e,t,n){e.exports=n.p+"6fd78539e14201f2470566dbd03204f1.csv"},a8ea:function(e,t,n){e.exports=n.p+"f667b2c6eb4cc99bd15fe7cdcda91ee9.xml"},bf34:function(e,t,n){e.exports=n.p+"de0249f9fa5fbe91488d4236bc6928e2.csv"},ce62:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="ce62"},dbb9:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.clickToLoad?n("button",{on:{click:e.load}},[e._v("\n    Load "+e._s(e.uri)+"\n")]):e.expandedThing?n("span",{class:"e-Thing e-"+e.shortType},[e.expandedThing["@id"]?n("a",{staticClass:"e-type",attrs:{href:e.expandedThing["@id"]}},[e.shortType?n("span",{attrs:{title:e.type}},[e._v(e._s(e.shortType)+"\n        ")]):e._e()]):e.shortType?n("span",{staticClass:"e-type",attrs:{title:e.type}},[e._v(e._s(e.shortType))]):e._e(),e.canEdit?n("span",{staticClass:"icon editable is-small"},[n("i",{staticClass:"fa fa-edit",attrs:{"aria-hidden":"true",title:"Is Editable"}})]):e._e(),1==e.showAlways?n("span",{staticClass:"icon expand is-small"},[n("i",{staticClass:"fa fa-expand",attrs:{"aria-hidden":"true",title:"Expand"},on:{click:function(t){e.showAlways=!1}}})]):e._e(),0==e.showAlways&&1!=e.showPossible?n("span",{staticClass:"icon compact is-small"},[n("i",{staticClass:"fa fa-compress",attrs:{"aria-hidden":"true",title:"Collapse"},on:{click:function(t){e.showAlways=!0}}})]):e._e(),!e.showAlways&&1!=e.showPossible&&e.canEdit?n("span",{staticClass:"icon expand is-small"},[n("i",{staticClass:"fa fa-expand",attrs:{"aria-hidden":"true",title:"Expand"},on:{click:function(t){e.showPossible=!0}}})]):e._e(),!e.showAlways&&1==e.showPossible&&e.canEdit?n("span",{staticClass:"icon compact is-small"},[n("i",{staticClass:"fa fa-compress",attrs:{"aria-hidden":"true",title:"Collapse"},on:{click:function(t){e.showPossible=!1}}})]):e._e(),e._t("default"),1==e.showAlways&&null!=e.expandedThing&&void 0!==e.expandedThing?n("ul",{staticClass:"e-Thing-always-ul e-Thing-ul"},e._l(e.alwaysProperties,(function(t,r){return n("Property",{key:e.thing[e.getThingKeyFromExpandedKey(r)],attrs:{thing:e.thing,expandedThing:e.expandedThing,property:e.getThingKeyFromExpandedKey(r),expandedProperty:r,schema:t,canEdit:e.canEdit}})})),1):1==e.showPossible&&null!=e.expandedThing&&void 0!==e.expandedThing?n("ul",{staticClass:"e-Thing-possible-ul e-Thing-ul"},e._l(e.possibleProperties,(function(t,r){return n("Property",{key:e.thing[e.getThingKeyFromExpandedKey(r)],attrs:{thing:e.thing,expandedThing:e.expandedThing,property:e.getThingKeyFromExpandedKey(r),expandedProperty:r,schema:t,canEdit:e.canEdit}})})),1):null!=e.expandedThing&&void 0!==e.expandedThing?n("ul",{staticClass:"e-Thing-view-ul e-Thing-ul"},e._l(e.viewProperties,(function(t,r){return n("Property",{key:e.thing[e.getThingKeyFromExpandedKey(r)],attrs:{thing:e.thing,expandedThing:e.expandedThing,property:e.getThingKeyFromExpandedKey(r),expandedProperty:r,schema:t,canEdit:e.canEdit,profile:e.profile}})})),1):e._e()],2):e._e()},o=[],i=(n("a481"),n("f559"),n("aef6"),n("28a5"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.thing?n("li",{class:"e-Property e-"+e.shortType},[n("label",{attrs:{title:e.comment},on:{click:function(t){e.show=!e.show}}},[e.comment?n("i",{staticClass:"fa fa-info-circle",attrs:{title:e.comment,"aria-hidden":"true"}}):e._e(),e._v(" "+e._s(e.displayLabel)+":")]),1!=e.edit&&e.canEdit?n("span",{staticClass:"icon edit is-small",attrs:{title:"Edit"}},[n("i",{staticClass:"fa fa-pencil-alt",attrs:{"aria-hidden":"true"},on:{click:function(t){e.edit=!0}}})]):e.canEdit?n("span",{staticClass:"icon save is-small",attrs:{title:"Save"}},[n("i",{staticClass:"fa fa-save",attrs:{"aria-hidden":"true"},on:{click:function(t){e.edit=!1,e.save()}}})]):e._e(),1==e.edit?n("span",[0==e.range.length?n("button",{staticClass:"add",attrs:{title:"Add New Text"}},[n("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"},on:{click:function(t){return e.add("string")}}}),n("span",{on:{click:function(t){return e.add("string")}}},[e._v("\n                Text\n            ")])]):e._e(),e._l(e.range,(function(t){return n("button",{key:t,staticClass:"add",attrs:{title:"Add New "+t.split("/").pop()}},[n("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"},on:{click:function(n){return e.add(t)}}}),n("span",{on:{click:function(n){return e.add(t)}}},[e._v("\n                "+e._s(t.split("/").pop())+"\n            ")])])}))],2):e._e(),e.value&&e.show?n("ul",{staticClass:"e-Property-ul"},e._l(e.expandedValue,(function(t,r){return n("li",{key:t},[1==e.edit?n("span",{staticClass:"icon remove is-small"},[n("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"},on:{click:function(t){return e.remove(r)}}})]):e._e(),!e.edit&&e.isLink(t)?n("Thing",{attrs:{uri:t["@id"],clickToLoad:"true",parentNotEditable:!e.canEdit,profile:e.profile}}):e.isText(t)?e.edit?n("span",[n("PropertyString",{attrs:{index:r,property:e.property,thing:e.thing,value:t,profile:e.profile}})],1):e.isObject(e.expandedValue[r])?n("span",{staticClass:"e-Property-text"},[e._v(" "+e._s(e.expandedValue[r]["@value"])+" ")]):n("span",{staticClass:"e-Property-text"},[e._v(" "+e._s(e.expandedValue[r])+" ")]):n("Thing",{attrs:{obj:e.value[r],expandedObj:t,parentNotEditable:!e.canEdit,profile:e.profile}})],1)})),0):e._e()]):e._e()}),a=[],s=(n("ac6a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e.computedLanguage?n("input",{directives:[{name:"model",rawName:"v-model",value:e.computedLanguage,expression:"computedLanguage"}],ref:"language",domProps:{value:e.computedLanguage},on:{blur:e.blur,input:function(t){t.target.composing||(e.computedLanguage=t.target.value)}}}):e._e(),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.computedText,expression:"computedText"}],ref:"text",domProps:{value:e.computedText},on:{blur:e.blur,input:function(t){t.target.composing||(e.computedText=t.target.value)}}})])}),c=[],l={name:"PropertyString",props:{thing:Object,expandedThing:Object,property:String,expandedProperty:String,schema:Object,index:null},created:function(){},data:function(){var e=this.thing[this.property];return EcArray.isArray(e)?{text:this.thing[this.property][this.index],indexInternal:this.index}:{text:this.thing[this.property],indexInternal:null}},computed:{computedText:{get:function(){return EcObject.isObject(this.text)?void 0===this.text["@value"]?null:this.text["@value"]:this.text},set:function(e){EcObject.isObject(this.text)?void 0!==this.text["@value"]&&(this.text["@value"]=e):this.text=e}},computedLanguage:{get:function(){return EcObject.isObject(this.text)?void 0===this.text["@language"]?null:this.text["@language"]:null},set:function(e){EcObject.isObject(this.text)&&void 0!==this.text["@language"]&&(this.text["@language"]=e)}}},watch:{text:function(e,t){}},methods:{blur:function(){this.$parent.update(this.text,this.indexInternal)}}},p=l,d=n("2877"),u=Object(d["a"])(p,s,c,!1,null,null,null),h=u.exports,m={name:"Property",props:{thing:Object,expandedThing:Object,property:String,expandedProperty:String,schema:Object,canEdit:Boolean,profile:Object},data:function(){return{edit:null,show:!0}},components:{Thing:function(){return Promise.resolve().then(n.bind(null,"dbb9"))},PropertyString:h},created:function(){},computed:{displayLabel:function(){if(null!=this.schema&&null!=this.schema["http://www.w3.org/2000/01/rdf-schema#label"]&&!EcArray.isArray(this.schema["http://www.w3.org/2000/01/rdf-schema#label"])&&!EcObject.isObject(this.schema["http://www.w3.org/2000/01/rdf-schema#label"]))return this.schema["http://www.w3.org/2000/01/rdf-schema#label"];if(null!=this.schema&&null!=this.schema["http://www.w3.org/2000/01/rdf-schema#label"]&&EcArray.isArray(this.schema["http://www.w3.org/2000/01/rdf-schema#label"])&&EcObject.isObject(this.schema["http://www.w3.org/2000/01/rdf-schema#label"][0]))return this.schema["http://www.w3.org/2000/01/rdf-schema#label"][0]["@value"];if(null!=this.schema&&null!=this.schema["http://www.w3.org/2000/01/rdf-schema#label"]&&EcObject.isObject(this.schema["http://www.w3.org/2000/01/rdf-schema#label"]))return this.schema["http://www.w3.org/2000/01/rdf-schema#label"]["@value"];var e=this.property.split(":").pop().split("/").pop();return e.replace(/([A-Z]+)/g,(function(e){return" "+e})).toLowerCase().trim().replace(/(^| )(\w)/g,(function(e){return e.toUpperCase()}))},comment:function(){return null==this.schema?null:null==this.schema["http://www.w3.org/2000/01/rdf-schema#comment"]?null:null==this.schema["http://www.w3.org/2000/01/rdf-schema#comment"][0]?null:this.schema["http://www.w3.org/2000/01/rdf-schema#comment"][0]["@value"]},type:function(){return null==this.schema?null==this.expandedThing?null:this.expandedThing["@type"][0]:this.schema["@id"]},shortType:function(){return this.type.split("/").pop()},context:function(){var e=this.type.split("/");return e.pop(),e.join("/")},range:function(){if(null==this.schema)return[];var e=[],t=this.schema["http://schema.org/rangeIncludes"];if(null!=t||void 0!==t)for(var n=0;n<t.length;n++)e.push(t[n]["@id"]);return e},value:{get:function(){var e=this.thing[this.property];if(null!=e)return e;if(null!=this.expandedValue&&(e=this.thing[this.expandedProperty]),null!=e)return e;if(-1!==this.property.indexOf(":")){var t=this.property.split(":");t=this.$store.state.lode.rawSchemata[this.thing.context]["@context"][t[0]]+t[1],e=this.thing[t]}return e}},expandedValue:{get:function(){return this.expandedThing[this.expandedProperty]}}},methods:{add:function(e){if(-1!==e.toLowerCase().indexOf("string")||e.toLowerCase().indexOf("url")||-1!==e.toLowerCase().indexOf("text"))this.$parent.add(this.property,"");else{var t=new EcRemoteLinkedData;t.context=this.context,t.type=e.split("/").pop(),this.$parent.add(this.property,t)}},remove:function(e){this.$parent.remove(this.expandedProperty,e)},update:function(e,t){this.$parent.update(this.property,t,e)},isText:function(e){if(null==e||void 0===e)return null;if(null!=e["@value"]&&void 0!==e["@value"])return!0;if(void 0!==e["@type"]&&null!==e["@type"]){if(-1!==e["@type"][0].toLowerCase().indexOf("text"))return!0;if(-1!==e["@type"][0].toLowerCase().indexOf("url"))return!0;if(-1!==e["@type"][0].toLowerCase().indexOf("string"))return!0}return null!=e["@id"]&&void 0!==e["@id"]},isLink:function(e){return 1===EcObject.keys(e).length&&null!=e["@id"]&&void 0!==e["@id"]},save:function(){this.$parent.save()},isObject:function(e){return EcObject.isObject(e)}}},f=m,v=Object(d["a"])(f,i,a,!1,null,null,null),g=v.exports,y={name:"Thing",props:{obj:Object,expandedObj:Object,uri:String,clickToLoad:Boolean,parentNotEditable:Boolean,profile:Object},components:{Property:g},data:function(){return{thing:null,expandedThing:null,showAlways:!0,showPossible:null,rawSchema:null}},created:function(){!1===this.clickToLoad&&this.load()},computed:{type:function(){return null==this.expandedThing?null:this.expandedThing["@type"][0]},shortType:function(){return null==this.expandedThing?null:this.expandedThing["@type"][0].split("/").pop()},context:function(){var e=this.type.split("/");return e.pop(),e.join("/")},canEdit:function(){return!0!==this.parentNotEditable&&this.thing.canEditAny(EcIdentityManager.ids)},schema:function(){var e=this.rawSchema,t={};if(null!==e&&void 0!==e)for(var n=0;n<e.length;n++){var r=e[n];t[r["@id"]]=r}return t},alwaysProperties:function(){for(var e={},t=["http://schema.org/name","http://schema.org/description"],n=0;n<t.length;n++){var r=t[n];(null==this.profile||null!=this.profile&&void 0!==this.profile[r])&&null!=this.schema[r]&&null!=this.expandedThing[r]&&0!==this.expandedThing[r].length&&(null!=this.profile?e[r]=this.profile[r]:e[r]=this.schema[r])}return e},viewProperties:function(){var e={};for(var t in this.alwaysProperties)e[t]=this.alwaysProperties[t];for(var t in this.expandedThing)"constructor"!==t&&"@id"!==t&&"@type"!==t&&"@context"!==t&&(t.endsWith("@owner")||t.endsWith("@reader")||t.endsWith("@signature")||null!=this.profile&&void 0===this.profile[t]||null!=this.expandedThing[t]&&0!==this.expandedThing[t].length&&(null==this.profile?null==this.schema[t]||void 0===this.schema[t]?e[t]=this.$store.state.lode.schemaFallback[t]:e[t]=this.schema[t]:e[t]=this.profile[t]));return e},possibleProperties:function(){var e={};for(var t in this.viewProperties)e[t]=this.viewProperties[t];for(var t in this.schema)"constructor"!==t&&"@id"!==t&&"@type"!==t&&"@context"!==t&&(t.endsWith("@owner")||t.endsWith("@reader")||t.endsWith("@signature")||null!=this.profile&&void 0===this.profile[t]||void 0===this.schema[t]["@type"]&&void 0===this.schema[t]["http://schema.org/domainIncludes"]||null!=this.schema[t]["@type"]&&-1===this.schema[t]["@type"][0].indexOf("Property")||(null==this.profile?null==this.schema[t]||void 0===this.schema[t]?e[t]=this.$store.state.lode.schemaFallback[t]:e[t]=this.schema[t]:e[t]=this.profile[t]));return e},iconClass:function(){return"fas fa-"+this.shortType.toLowerCase()}},methods:{load:function(){var e=this;if(e.clickToLoad=!1,null!=this.uri)EcRepository.get(this.uri,(function(t){var n=e.getAllTypes(t);null!=t.context&&void 0!==t.context&&n.push(t.context),(new EcAsyncHelper).each(n,(function(t,n){e.loadSchema(n,t)}),(function(){e.thing=e.deserialize(t),e.expand((function(){e.rawSchema=e.$store.state.lode.schemata[e.type]}))}))}),console.error);else if(null!=this.expandedObj)null!=this.obj&&(this.thing=this.obj),this.loadSchema((function(){e.expandedThing=e.expandedObj,e.rawSchema=e.$store.state.lode.schemata[e.type]}),this.expandedObj["@type"][0]);else{var t=e.getAllTypes(this.obj);null!=this.obj.context&&void 0!==this.obj.context&&t.push(this.obj.context),(new EcAsyncHelper).each(t,(function(t,n){e.loadSchema(n,t)}),(function(){e.thing=e.deserialize(e.obj),e.expand((function(){e.rawSchema=e.$store.state.lode.schemata[e.type]}))}))}},reactify:function(e){var t=null;if(null!=e.type&&(t=this.$store.state.lode.schemata[e.context+(e.context.endsWith("/")?"":"/")+e.type]),null!=e["@type"]&&(t=this.$store.state.lode.schemata[e["@context"]+(e["@context"].endsWith("/")?"":"/")+e["@type"]]),null!=t)for(var n=0;n<t.length;n++){var r=t[n]["@id"],o=r.split("/").pop();void 0===t[n]["@type"]&&void 0===t[n]["http://schema.org/domainIncludes"]||(null!=t[n]["@type"]&&-1===t[n]["@type"][0].indexOf("Property")||(null==e[o]?e[o]=[]:EcArray.isArray(e[o])||(e[o]=[e[o]])))}},deserialize:function(e){if(EcArray.isArray(e))for(var t=0;t<e.length;t++)e[t]=this.deserialize(e[t]);if(EcObject.isObject(e)){if(null!=e["@language"])return e;if(null!=e["@value"])return e;for(var n in e)e[n]=this.deserialize(e[n]);if(null!=e.type){var r=new EcRemoteLinkedData;r.copyFrom(e),e=r}if(null!=e["@type"]){r=new EcRemoteLinkedData;r.copyFrom(e),e=r}this.reactify(e)}return e},expand:function(e){var t=this,n=JSON.parse(this.thing.toJson());null!=n["@context"]&&n["@context"].startsWith("http://")&&(n["@context"]=n["@context"].replace("http://","https://")),jsonld.expand(n,(function(n,r){null==n?(t.expandedThing=r[0],t.loadSchema(e)):console.error(n)}))},loadSchema:function(e,t){var n=this;if(null==t&&(t=this.type),"http://schema.org/"!==t)if(void 0===this.$store.state.lode.schemata[t]){var r=t;r+=-1!==t.indexOf("schema.org")?".jsonld":"",EcRemote.getExpectingObject("",r,(function(r){n.$store.commit("rawSchemata",{id:t,obj:r}),jsonld.expand(r,(function(r,o){null==r?(n.$store.commit("schemata",{id:t,obj:o}),null!=e&&e()):console.error(r)}))}),console.error)}else null!=e&&e();else e()},add:function(e,t){var n=this;(new EcAsyncHelper).each(n.getAllTypes(t),(function(e,t){n.loadSchema(t,e)}),(function(){EcArray.isArray(n.thing[e])||(n.thing[e]=[n.thing[e]]),n.thing[e].push(n.deserialize(t)),n.expand()}))},remove:function(e,t){this.thing[e.split("/").pop()].splice(t,1),this.expand()},update:function(e,t,n){null==t?this.thing[e]=n:this.thing[e][t]=n,this.expand()},save:function(){var e=this;while(null==e.thing.id||void 0===e.thing.id)if(e=e.$parent.$parent,null==e.thing)return"Could not save.";repo.saveTo(this.stripEmptyArrays(e.thing),console.log,console.error)},stripEmptyArrays:function(e){if(EcArray.isArray(e)){if(0===e.length)return null;for(var t=0;t<e.length;t++)e[t]=this.stripEmptyArrays(e[t]),null==e[t]&&e.splice(t--,1)}else if(EcObject.isObject(e))for(var n in e){var r=this.stripEmptyArrays(e[n]);null==r&&delete e[n]}return e},getAllTypes:function(e,t){var n=[];if(null!=e&&null!=e.context&&(t=e.context),EcArray.isArray(e))for(var r=0;r<e.length;r++)n=n.concat(this.getAllTypes(e[r],t));else if(EcObject.isObject(e))for(var o in null!=e.type&&(null==e.context&&(e.context=t),n.push(e.context+(e.context.endsWith("/")?"":"/")+e.type)),null!=e["@type"]&&(null==e["@context"]&&(e["@context"]=t),n.push(e["@context"]+(e["@context"].endsWith("/")?"":"/")+e["@type"])),e)n=n.concat(this.getAllTypes(e[o],t));return n},getThingKeyFromExpandedKey:function(e){if("http://purl.org/dc/terms/type"===e)return"dcterms:type";if(void 0!==this.thing[e])return e;for(var t in this.thing)if(-1!==t.indexOf(":")){var n=t.split(":");if(void 0===this.$store.state.lode.rawSchemata[this.thing.context]&&console.warn("Could not locate schema: "+this.thing.context),n=this.$store.state.lode.rawSchemata[this.thing.context]["@context"][n[0]]+n[1],e===n)return t}return void 0!==this.thing[e.split("/").pop()]?e.split("/").pop():null}}},w=y,C=Object(d["a"])(w,r,o,!1,null,null,null);t["default"]=C.exports},df03:function(e,t,n){e.exports=n.p+"0321225f27b00198644e4f71df10550d.csv"},e507:function(e,t,n){"use strict";t["a"]={state:{schemata:{},rawSchemata:{},schemaFallback:{}},mutations:{schemata:function(e,t){e.schemata[t.id]=t.obj},rawSchemata:function(e,t){e.rawSchemata[t.id]=t.obj},schemaFallback:function(e,t){for(var n=0;n<t.length;n++)e.schemaFallback[t[n]["@id"]]=t[n]}},actions:{}}},e817:function(e,t,n){e.exports=n.p+"a2fea717c220832ae6941c02dabf207a.csv"},efb1:function(e,t,n){e.exports=n.p+"33a816cd2442bbc68601fdf6aae14d66.csv"}});
//# sourceMappingURL=app.b0416e97.js.map